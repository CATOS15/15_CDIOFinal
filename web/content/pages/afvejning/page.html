<div>
    <div class="headerContent">
        <div class="header">Afvejning</div>
    </div>
    <div class="tableContent">
        <table>
            <tr>
                <th>ProduktBatch ID</th>
            </tr>
            <tr ng-repeat="userProduktBatch in afvejningModel.userProduktBatches" ng-click="toggleItem(userProduktBatch)" ng-class="{'active' :afvejningModel.userProduktBatch === userProduktBatch}">
                <td>{{userProduktBatch.pbId}}</td>
            </tr>
        </table>
    </div>
    <div style="color:#009116;" ng-if="afvejningModel.msg">
        {{afvejningModel.msg}}
    </div>
    <div style="color:#a6000c;" ng-if="afvejningModel.error">
        {{afvejningModel.error}}
    </div>
    <div class="itemContent" ng-if="afvejningModel.userProduktBatch">
        <div class="item_afvejninger">
            <div class="afvejning_boxes">
                <div class="tilknyttet_recept">
                    <div>
                        Tilknyttet recept:
                    </div>
                    <div>
                        <span style="font-weight: 600">Recept navn:</span> {{afvejningRecept.receptNavn}}
                    </div>
                    <div>
                        <table>
                            <tr>
                                <th>Råvare</th>
                                <th>Non netto</th>
                                <th>Tolerance (%)</th>
                            </tr>
                            <tr ng-repeat="receptRavare in afvejningRecept.receptRaavarer track by $index">
                                <td>{{getRaavaraFromId(receptRavare.raavareId).raavareNavn}}</td>
                                <td>{{receptRavare.nonNetto}}</td>
                                <td>{{receptRavare.tolerance}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="afvejning_afvejninger">
                    <div ng-repeat="afvejning in afvejningModel.userProduktBatch.afvejninger">
                        <div>
                            <div>
                                <label>Råvarebatch ID:</label>
                                <select ng-model="afvejning.rbId"
                                        ng-change="information = getInformation(afvejning.rbId)"
                                        ng-init="information = getInformation(afvejning.rbId)"
                                        ng-disabled="!afvejning.newItem">
                                    <option ng-repeat="raavarebatch in availableRaavareBatches(raavarebatchesModel.raavareBatches, afvejning.rbId)"
                                            ng-value="raavarebatch.rbId">
                                        {{getRaavaraFromId(raavarebatch.raavareId).raavareNavn}} ID:{{raavarebatch.rbId}}
                                    </option>
                                </select>
                            </div>
                            <div>
                                <div style="word-break: break-word; padding-bottom:10px;" ng-if="afvejning.rbId">
                                    MÆNGDE: {{information.maengde}} &nbsp;&nbsp;&nbsp;LEVERANDØR: {{information.leverandoer}}
                                </div>
                            </div>
                        </div>
                        <div>
                            <div>
                                <label>Tara vægt:</label>
                                <input type="number" ng-model="afvejning.tara" ng-disabled="!afvejning.rbId || !afvejning.newItem">
                            </div>
                            <div>
                                <label>Netto:</label>
                                <input type="number" ng-model="afvejning.netto" ng-disabled="!afvejning.rbId || !afvejning.newItem">
                            </div>
                            <div>
                                <label>Terminal:</label>
                                <input type="number" ng-model="afvejning.terminal" ng-disabled="!afvejning.rbId || !afvejning.newItem">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="buttonItem receptadd_knap" ng-click="addAfvejning()" ng-if="availableRaavareBatches(raavarebatchesModel.raavareBatches, '').length > 0">Tilføj afvejning</div>
        </div>
    </div>
    <div class="actions" ng-if="afvejningModel.userProduktBatch"><div class="buttonItem" ng-click="save()">gem</div></div>
</div>
<style>
</style>